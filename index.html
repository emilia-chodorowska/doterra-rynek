<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rynek doTERRA w Europie â€” Analiza dla Aromagic</title>
  <meta name="description" content="RozkÅ‚ad liderÃ³w doTERRA w Europie per kraj i ranga. Dane z oficjalnych stron doTERRA, luty 2026.">
  <link rel="icon" href="favicon.ico">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --text: #111827;
      --text-secondary: #6B7280;
      --text-muted: #9CA3AF;
      --bg: #ffffff;
      --bg-soft: #F9FAFB;
      --border: #E5E7EB;
      --purple: #7E57C2;
      --purple-soft: #F3EEFA;
      --purple-mid: #EDE5F7;
      --green: #4CAF50;
      --green-soft: #E8F5E9;
      --blue: #2196F3;
      --blue-soft: #E3F2FD;
      --amber: #FF9800;
      --amber-soft: #FFF3E0;
      --rose: #E91E63;
      --nav-h: 64px;
    }

    html { scroll-behavior: smooth; }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
      color: var(--text);
      background: var(--bg);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
    }

    a { text-decoration: none; color: inherit; }
    img { max-width: 100%; display: block; }

    .w { max-width: 1080px; margin: 0 auto; padding: 0 24px; }

    /* NAV */
    .nav {
      position: fixed; top: 0; left: 0; right: 0;
      height: var(--nav-h); z-index: 100;
      background: rgba(255,255,255,0.92);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid var(--border);
    }
    .nav-inner {
      max-width: 1080px; margin: 0 auto; padding: 0 24px;
      height: 100%; display: flex; align-items: center; justify-content: space-between;
    }
    .nav-logo { display: flex; align-items: center; gap: 10px; }
    .nav-logo img { height: 32px; width: auto; }
    .nav-logo span { font-size: 1.125rem; font-weight: 700; letter-spacing: -0.02em; }
    .nav-links { display: flex; align-items: center; gap: 28px; }
    .nav-links a { font-size: 0.875rem; font-weight: 500; color: var(--text-secondary); transition: color 0.15s; }
    .nav-links a:hover { color: var(--text); }
    .nav-tag {
      font-size: 0.7rem; font-weight: 600; color: var(--purple);
      background: var(--purple-soft); padding: 2px 8px; border-radius: 100px;
    }

    /* HERO */
    .hero {
      padding: calc(var(--nav-h) + 72px) 0 64px;
      text-align: center;
    }
    .hero-label {
      display: inline-block; font-size: 0.8rem; font-weight: 600;
      color: var(--purple); background: var(--purple-soft);
      padding: 4px 14px; border-radius: 100px; margin-bottom: 24px;
    }
    .hero h1 {
      font-size: 2.75rem; font-weight: 800; letter-spacing: -0.035em;
      line-height: 1.15; max-width: 700px; margin: 0 auto 16px;
    }
    .hero-sub {
      font-size: 1.05rem; color: var(--text-secondary);
      max-width: 560px; margin: 0 auto 0;
    }

    /* SECTIONS */
    section { padding: 72px 0; }
    .bg-soft { background: var(--bg-soft); }

    .section-label {
      font-size: 0.7rem; font-weight: 600; text-transform: uppercase;
      letter-spacing: 0.1em; color: var(--purple); margin-bottom: 10px;
    }
    .section-head { margin-bottom: 48px; }
    .section-head h2 { font-size: 1.75rem; font-weight: 700; letter-spacing: -0.025em; line-height: 1.25; }
    .section-head p { margin-top: 10px; font-size: 0.95rem; color: var(--text-secondary); max-width: 560px; }
    .section-head--center { text-align: center; }
    .section-head--center p { margin-left: auto; margin-right: auto; }

    /* STAT CARDS */
    .stats-row {
      display: grid; grid-template-columns: repeat(4, 1fr);
      gap: 1px; background: var(--border);
      border: 1px solid var(--border); border-radius: 12px; overflow: hidden;
    }
    .stat-card {
      padding: 28px 24px; background: var(--bg); text-align: center;
    }
    .stat-value {
      font-size: 2rem; font-weight: 800; letter-spacing: -0.03em;
      line-height: 1.1; margin-bottom: 4px;
    }
    .stat-value.purple { color: var(--purple); }
    .stat-value.green { color: var(--green); }
    .stat-value.blue { color: var(--blue); }
    .stat-value.amber { color: var(--amber); }
    .stat-label { font-size: 0.78rem; color: var(--text-secondary); font-weight: 500; }

    /* BAR CHART */
    .chart { margin-bottom: 16px; }
    .chart-tabs {
      display: flex; gap: 8px; margin-bottom: 24px;
    }
    .chart-tab {
      padding: 8px 20px; border: 1px solid var(--border); border-radius: 6px;
      background: var(--bg); font-size: 0.85rem; font-weight: 600;
      cursor: pointer; transition: all 0.2s;
    }
    .chart-tab:hover { border-color: var(--purple); color: var(--purple); }
    .chart-tab.active {
      background: var(--purple); color: #fff; border-color: var(--purple);
    }
    .chart-row {
      display: grid; grid-template-columns: 100px 1fr 50px;
      align-items: center; gap: 12px; margin-bottom: 6px;
    }
    .chart-total {
      margin-top: 10px; padding-top: 10px;
      border-top: 1px solid var(--border);
    }
    .chart-total .chart-country,
    .chart-total .chart-val { font-weight: 700; }
    .chart-country {
      font-size: 0.82rem; font-weight: 600; text-align: right;
      white-space: nowrap;
    }
    .chart-bar-wrap {
      height: 28px; background: var(--bg-soft);
      border-radius: 6px; overflow: hidden; position: relative;
      border: 1px solid var(--border);
    }
    .chart-bar {
      height: 100%; border-radius: 5px;
      transition: width 1s cubic-bezier(0.22, 1, 0.36, 1);
      width: 0;
    }
    .chart-bar.de { background: var(--purple); }
    .chart-bar.ro { background: #5C6BC0; }
    .chart-bar.ch { background: #26A69A; }
    .chart-bar.pl { background: var(--green); }
    .chart-bar.hu { background: var(--amber); }
    .chart-bar.at { background: #EF5350; }
    .chart-bar.it { background: #42A5F5; }
    .chart-bar.fr { background: #AB47BC; }
    .chart-bar.es { background: #FF7043; }
    .chart-bar.be { background: #8D6E63; }
    .chart-bar.gb { background: #EC407A; }
    .chart-bar.il { background: #66BB6A; }
    .chart-bar.sk { background: #29B6F6; }
    .chart-bar.nl { background: #26C6DA; }
    .chart-bar.bg { background: #78909C; }
    .chart-bar.no { background: #1E88E5; }
    .chart-bar.other { background: #BDBDBD; }
    .chart-val {
      font-size: 0.78rem; font-weight: 600; color: var(--text-secondary);
      white-space: nowrap;
    }
    .chart-legend {
      display: flex; flex-wrap: wrap; gap: 16px; margin-top: 20px;
      justify-content: center;
    }
    .chart-legend-item {
      display: flex; align-items: center; gap: 6px;
      font-size: 0.75rem; color: var(--text-secondary); font-weight: 500;
    }
    .chart-legend-dot {
      width: 10px; height: 10px; border-radius: 3px; flex-shrink: 0;
    }

    /* STACKED CHART */
    .stacked-row {
      display: grid; grid-template-columns: 100px 1fr 50px;
      align-items: center; gap: 12px; margin-bottom: 6px;
    }
    .stacked-country {
      font-size: 0.82rem; font-weight: 600; text-align: right;
      white-space: nowrap;
    }
    .stacked-bar {
      display: flex; height: 28px; border-radius: 6px; overflow: hidden;
      border: 1px solid var(--border); background: var(--bg-soft);
    }
    .stacked-seg {
      height: 100%; transition: width 1s cubic-bezier(0.22, 1, 0.36, 1);
      width: 0;
    }
    .stacked-seg.silver { background: #90CAF9; }
    .stacked-seg.gold { background: #FFD54F; }
    .stacked-seg.platinum { background: #CE93D8; }
    .stacked-seg.diamond { background: #7E57C2; }
    .stacked-seg.inne { background: #BDBDBD; }
    .stacked-val {
      font-size: 0.78rem; font-weight: 600; color: var(--text-secondary);
      white-space: nowrap;
    }
    .stacked-total {
      margin-top: 10px; padding-top: 10px;
      border-top: 1px solid var(--border);
    }
    .stacked-total .stacked-country,
    .stacked-total .stacked-val { font-weight: 700; }
    .row-tooltip {
      position: relative; cursor: help;
    }
    .row-tooltip .tooltip-box {
      display: none; position: absolute; bottom: calc(100% + 8px); left: 120px;
      background: #78909C; color: #fff; padding: 10px 14px;
      border-radius: 8px; font-size: 0.75rem; line-height: 1.6;
      white-space: nowrap; z-index: 10;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .row-tooltip .tooltip-box::after {
      content: ''; position: absolute; top: 100%; left: 20px;
      border: 6px solid transparent; border-top-color: #78909C;
    }
    .row-tooltip:hover .tooltip-box { display: block; }
    .stacked-legend {
      display: flex; flex-wrap: wrap; gap: 16px; margin-top: 20px;
      justify-content: center;
    }
    .stacked-legend-item {
      display: flex; align-items: center; gap: 6px;
      font-size: 0.78rem; color: var(--text-secondary);
    }
    .stacked-legend-dot {
      width: 10px; height: 10px; border-radius: 3px; flex-shrink: 0;
    }

    /* TABLES */
    .table-wrap {
      border: 1px solid var(--border); border-radius: 12px; overflow: hidden;
    }
    table {
      width: 100%; border-collapse: collapse; font-size: 0.82rem;
    }
    thead { background: var(--bg-soft); }
    th {
      padding: 12px 16px; text-align: left; font-weight: 600;
      font-size: 0.72rem; text-transform: uppercase; letter-spacing: 0.06em;
      color: var(--text-secondary); border-bottom: 1px solid var(--border);
    }
    th.r, td.r { text-align: right; }
    td {
      padding: 11px 16px; border-bottom: 1px solid var(--border);
      color: var(--text);
    }
    tbody tr:last-child td { border-bottom: none; }
    tbody tr:hover { background: var(--bg-soft); }
    .row-highlight { background: var(--purple-soft) !important; }
    .row-highlight:hover { background: var(--purple-mid) !important; }
    .badge {
      display: inline-block; font-size: 0.68rem; font-weight: 600;
      padding: 2px 8px; border-radius: 100px;
    }
    .badge-pl { background: var(--green-soft); color: #2E7D32; }
    .badge-de { background: var(--purple-soft); color: #5E35B1; }
    .badge-ro { background: var(--blue-soft); color: #1565C0; }
    .badge-later { background: #F5F5F5; color: #757575; }

    /* PYRAMID */
    .pyramids {
      display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;
    }
    .pyramid-card {
      border: 1px solid var(--border); border-radius: 12px;
      padding: 28px 24px; background: var(--bg);
    }
    .pyramid-card h3 {
      font-size: 1rem; font-weight: 700; margin-bottom: 4px;
      display: flex; align-items: center; gap: 8px;
    }
    .pyramid-card .sub {
      font-size: 0.78rem; color: var(--text-secondary); margin-bottom: 20px;
    }
    .pyr-row {
      display: flex; align-items: center; gap: 10px;
      margin-bottom: 8px;
    }
    .pyr-label {
      font-size: 0.72rem; font-weight: 600; width: 70px;
      text-align: right; color: var(--text-secondary); flex-shrink: 0;
    }
    .pyr-bar-wrap {
      flex: 1; height: 22px; background: var(--bg-soft);
      border-radius: 4px; overflow: hidden; border: 1px solid var(--border);
    }
    .pyr-bar {
      height: 100%; border-radius: 3px;
      transition: width 1s cubic-bezier(0.22, 1, 0.36, 1);
      display: flex; align-items: center; justify-content: flex-end;
      padding-right: 6px; font-size: 0.68rem; font-weight: 700; color: #fff;
      min-width: 32px;
    }
    .pyr-bar.gold { background: #FFB300; color: #5D4037; }
    .pyr-bar.plat { background: #78909C; }
    .pyr-bar.dia { background: #90CAF9; color: #1565C0; }
    .pyr-bar.bdia { background: var(--purple); }

    /* SEGMENT CARDS */
    .segments {
      display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px;
    }
    .segment {
      border: 1px solid var(--border); border-radius: 12px;
      padding: 28px 24px; background: var(--bg); position: relative;
      overflow: hidden;
    }
    .segment-phase {
      font-size: 0.68rem; font-weight: 700; text-transform: uppercase;
      letter-spacing: 0.08em; margin-bottom: 8px;
    }
    .segment-phase.now { color: var(--green); }
    .segment-phase.next { color: var(--purple); }
    .segment-phase.later { color: var(--text-muted); }
    .segment h3 { font-size: 1.1rem; font-weight: 700; margin-bottom: 6px; }
    .segment .pct {
      font-size: 2.25rem; font-weight: 800; letter-spacing: -0.03em;
      margin-bottom: 8px; line-height: 1;
    }
    .segment .pct.green { color: var(--green); }
    .segment .pct.purple { color: var(--purple); }
    .segment .pct.muted { color: var(--text-muted); }
    .segment p { font-size: 0.82rem; color: var(--text-secondary); line-height: 1.6; }
    .segment ul {
      list-style: none; margin-top: 12px;
    }
    .segment li {
      font-size: 0.8rem; color: var(--text-secondary); padding: 3px 0;
      padding-left: 14px; position: relative;
    }
    .segment li::before {
      content: ''; position: absolute; left: 0; top: 10px;
      width: 5px; height: 5px; border-radius: 50%; background: var(--border);
    }

    /* TIMELINE */
    .timeline {
      position: relative; padding-left: 32px;
    }
    .timeline::before {
      content: ''; position: absolute; left: 7px; top: 8px; bottom: 8px;
      width: 1px; background: var(--border);
    }
    .tl-item {
      position: relative; margin-bottom: 20px;
    }
    .tl-dot {
      position: absolute; left: -32px; top: 6px;
      width: 15px; height: 15px; border-radius: 50%;
      background: var(--bg); border: 2px solid var(--border);
    }
    .tl-dot.active { border-color: var(--purple); background: var(--purple-soft); }
    .tl-year {
      font-size: 0.72rem; font-weight: 700; color: var(--purple);
      margin-bottom: 2px;
    }
    .tl-text { font-size: 0.85rem; color: var(--text-secondary); }
    .tl-text strong { color: var(--text); font-weight: 600; }

    /* KEY INSIGHT */
    .insight {
      border: 2px solid var(--purple);
      border-radius: 12px; padding: 32px; text-align: center;
      background: var(--purple-soft);
    }
    .insight h3 {
      font-size: 1.1rem; font-weight: 700; margin-bottom: 8px;
      color: var(--purple);
    }
    .insight p { font-size: 0.92rem; color: var(--text); max-width: 640px; margin: 0 auto; }
    .insight .big {
      font-size: 2.5rem; font-weight: 800; color: var(--purple);
      letter-spacing: -0.03em; line-height: 1; margin: 12px 0;
    }

    /* NOTE */
    .note {
      font-size: 0.75rem; color: var(--text-muted); margin-top: 16px;
      line-height: 1.5;
    }
    .note a { color: var(--purple); text-decoration: underline; }

    /* FOOTER */
    .footer { padding: 32px 0; border-top: 1px solid var(--border); }
    .footer-inner {
      display: flex; justify-content: space-between; align-items: center;
      font-size: 0.8rem; color: var(--text-muted);
    }

    /* ANIMATIONS */
    .anim {
      opacity: 0; transform: translateY(16px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
    .anim.in { opacity: 1; transform: none; }

    /* RESPONSIVE */
    @media (max-width: 768px) {
      .nav-links { display: none; }
      .hero { padding: calc(var(--nav-h) + 40px) 0 48px; }
      .hero h1 { font-size: 1.75rem; }
      section { padding: 48px 0; }
      .stats-row { grid-template-columns: repeat(2, 1fr); }
      .pyramids, .segments { grid-template-columns: 1fr; }
      .chart-row { grid-template-columns: 72px 1fr 80px; }
      .stacked-row { grid-template-columns: 72px 1fr 45px; }
      .table-wrap { overflow-x: auto; }
      table { min-width: 600px; }
    }
  </style>
</head>
<body>

  <!-- NAV -->
  <nav class="nav">
    <div class="nav-inner">
      <a href="index.html" class="nav-logo">
        <img src="logo.png" alt="Aromagic">
        <span>Aromagic</span>
      </a>
      <div class="nav-links">
        <a href="#company">Firma</a>
        <a href="#market">Rynek</a>
        <a href="#pyramid">Piramida rang</a>
        <a href="#strategy">Strategia</a>
        <span class="nav-tag">WewnÄ™trzna</span>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <section class="hero">
    <div class="w">
      <div class="hero-label">Analiza rynku / luty 2026</div>
      <h1>Rynek doTERRA w&nbsp;Europie</h1>
      <p class="hero-sub">RozkÅ‚ad ~3160 liderÃ³w Silver+ w 34 krajach europejskich. Dane z oficjalnych stron doTERRA recognition.</p>
    </div>
  </section>

  <!-- GLOBAL STATS -->
  <section class="bg-soft" id="company">
    <div class="w">
      <div class="section-head section-head--center anim">
        <div class="section-label">doTERRA globalnie</div>
        <h2>Firma w liczbach</h2>
        <p>NajwiÄ™ksza firma olejkÃ³w eterycznych na Å›wiecie. ZaÅ‚oÅ¼ona 2008, Pleasant Grove, Utah.</p>
      </div>
      <div class="stats-row anim">
        <div class="stat-card">
          <div class="stat-value purple">>$2 mld</div>
          <div class="stat-label">PrzychÃ³d 2024</div>
        </div>
        <div class="stat-card">
          <div class="stat-value green">10M+</div>
          <div class="stat-label">KlientÃ³w globalnie</div>
        </div>
        <div class="stat-card">
          <div class="stat-value blue">3M+</div>
          <div class="stat-label">Wellness Advocates</div>
        </div>
        <div class="stat-card">
          <div class="stat-value amber">155+</div>
          <div class="stat-label">KrajÃ³w</div>
        </div>
      </div>
      <p class="note" style="text-align:center;">Å¹rÃ³dÅ‚o: doTERRA Jumpstart 2025, Business for Home, Direct Selling News</p>
    </div>
  </section>

  <!-- EUROPE STATS -->
  <section>
    <div class="w">
      <div class="section-head section-head--center anim">
        <div class="section-label">doTERRA Europa</div>
        <h2>41 rynkÃ³w europejskich</h2>
        <p>Biuro w Monachium (2019), fabryka w Cork (2020), call center w Budapeszcie (2020). Konwencja 2026 w Katowicach.</p>
      </div>
      <div class="stats-row anim">
        <div class="stat-card">
          <div class="stat-value purple">~3 160</div>
          <div class="stat-label">LiderÃ³w Silver+ Å‚Ä…cznie</div>
        </div>
        <div class="stat-card">
          <div class="stat-value green">~1 240</div>
          <div class="stat-label">w tym Gold+</div>
        </div>
        <div class="stat-card">
          <div class="stat-value blue">284</div>
          <div class="stat-label">w tym Diamond+</div>
        </div>
        <div class="stat-card">
          <div class="stat-value amber">34</div>
          <div class="stat-label">Kraje z liderami</div>
        </div>
      </div>
    </div>
  </section>

  <!-- RANK CHART -->
  <section class="bg-soft" id="market">
    <div class="w">
      <div class="section-head anim">
        <div class="section-label" id="chartLabel">RozkÅ‚ad Gold+</div>
        <h2>Niemcy dominujÄ…. Rumunia zaskakuje.</h2>
        <p id="chartDesc">~3157 liderÃ³w Silver+.</p>
      </div>

      <div class="chart-tabs">
        <button class="chart-tab active" data-rank="silver">Silver+</button>
        <button class="chart-tab" data-rank="gold">Gold+</button>
        <button class="chart-tab" data-rank="platinum">Platinum+</button>
        <button class="chart-tab" data-rank="diamond">Diamond+</button>
      </div>

      <div class="chart anim" id="rankChart"></div>

      <p class="note" id="chartNote">Å¹rÃ³dÅ‚o: doterra.com/ME/en_ME â€” strony Recognition. Dane pobrane luty 2026.</p>
    </div>
  </section>

  <!-- STACKED CHART -->
  <section>
    <div class="w">
      <div class="section-head anim">
        <div class="section-label">Struktura rang</div>
        <h2>PodziaÅ‚ rang w kaÅ¼dym kraju</h2>
        <p>Jak wyglÄ…da piramida Silver â†’ Gold â†’ Platinum â†’ Diamond+ per kraj.</p>
      </div>

      <div class="anim" id="stackedChart"></div>

      <div class="stacked-legend">
        <div class="stacked-legend-item"><span class="stacked-legend-dot" style="background:#90CAF9"></span> Silver (est.)</div>
        <div class="stacked-legend-item"><span class="stacked-legend-dot" style="background:#FFD54F"></span> Gold</div>
        <div class="stacked-legend-item"><span class="stacked-legend-dot" style="background:#CE93D8"></span> Platinum</div>
        <div class="stacked-legend-item"><span class="stacked-legend-dot" style="background:#7E57C2"></span> Diamond+</div>
      </div>

      <p class="note">Silver: estymacja z analizy nazwisk (Â±15-20%). Gold/Platinum/Diamond+: dane pewne z oficjalnych stron doTERRA.</p>
    </div>
  </section>

  <!-- FULL TABLE -->
  <section>
    <div class="w">
      <div class="section-head anim">
        <div class="section-label">SzczegÃ³Å‚y Gold+</div>
        <h2>RozkÅ‚ad per ranga i kraj</h2>
      </div>

      <div class="table-wrap anim">
        <table>
          <thead>
            <tr>
              <th>Kraj</th>
              <th class="r">Gold</th>
              <th class="r">Platinum</th>
              <th class="r">Diamond</th>
              <th class="r">Blue Dia.</th>
              <th class="r">Pres.Dia.+</th>
              <th class="r">Razem</th>
              <th class="r">%</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>ğŸ‡©ğŸ‡ª <strong>Niemcy</strong></td><td class="r">47</td><td class="r">42</td><td class="r">61</td><td class="r">12</td><td class="r">5</td><td class="r"><strong>167</strong></td><td class="r"><strong>24.6%</strong></td></tr>
            <tr><td>ğŸ‡·ğŸ‡´ <strong>Rumunia</strong></td><td class="r">28</td><td class="r">23</td><td class="r">32</td><td class="r">11</td><td class="r">7</td><td class="r"><strong>101</strong></td><td class="r"><strong>14.9%</strong></td></tr>
            <tr><td>ğŸ‡¨ğŸ‡­ Szwajcaria</td><td class="r">10</td><td class="r">7</td><td class="r">21</td><td class="r">1</td><td class="r">3</td><td class="r"><strong>42</strong></td><td class="r">6.2%</td></tr>
            <tr class="row-highlight"><td>ğŸ‡µğŸ‡± <strong>Polska</strong></td><td class="r">18</td><td class="r">10</td><td class="r">9</td><td class="r">4</td><td class="r">0</td><td class="r"><strong>41</strong></td><td class="r"><strong>6.0%</strong></td></tr>
            <tr><td>ğŸ‡­ğŸ‡º WÄ™gry</td><td class="r">15</td><td class="r">6</td><td class="r">11</td><td class="r">2</td><td class="r">1</td><td class="r"><strong>35</strong></td><td class="r">5.1%</td></tr>
            <tr><td>ğŸ‡¦ğŸ‡¹ Austria</td><td class="r">19</td><td class="r">2</td><td class="r">8</td><td class="r">1</td><td class="r">1</td><td class="r"><strong>31</strong></td><td class="r">4.6%</td></tr>
            <tr><td>ğŸ‡®ğŸ‡¹ WÅ‚ochy</td><td class="r">12</td><td class="r">7</td><td class="r">6</td><td class="r">2</td><td class="r">0</td><td class="r"><strong>27</strong></td><td class="r">4.0%</td></tr>
            <tr><td>ğŸ‡«ğŸ‡· Francja</td><td class="r">12</td><td class="r">4</td><td class="r">4</td><td class="r">2</td><td class="r">0</td><td class="r"><strong>22</strong></td><td class="r">3.2%</td></tr>
            <tr><td>ğŸ‡ªğŸ‡¸ Hiszpania</td><td class="r">5</td><td class="r">4</td><td class="r">4</td><td class="r">2</td><td class="r">1</td><td class="r"><strong>16</strong></td><td class="r">2.4%</td></tr>
            <tr><td>ğŸ‡§ğŸ‡ª Belgia</td><td class="r">8</td><td class="r">3</td><td class="r">3</td><td class="r">2</td><td class="r">0</td><td class="r"><strong>16</strong></td><td class="r">2.4%</td></tr>
            <tr><td>ğŸ‡¬ğŸ‡§ UK</td><td class="r">4</td><td class="r">3</td><td class="r">4</td><td class="r">3</td><td class="r">0</td><td class="r"><strong>14</strong></td><td class="r">2.1%</td></tr>
            <tr><td>ğŸ‡®ğŸ‡± Izrael</td><td class="r">3</td><td class="r">4</td><td class="r">3</td><td class="r">1</td><td class="r">1</td><td class="r"><strong>12</strong></td><td class="r">1.8%</td></tr>
            <tr><td>ğŸ‡¸ğŸ‡° SÅ‚owacja</td><td class="r">4</td><td class="r">3</td><td class="r">3</td><td class="r">2</td><td class="r">0</td><td class="r"><strong>12</strong></td><td class="r">1.8%</td></tr>
            <tr><td>ğŸ‡³ğŸ‡± Holandia</td><td class="r">5</td><td class="r">3</td><td class="r">3</td><td class="r">1</td><td class="r">0</td><td class="r"><strong>12</strong></td><td class="r">1.8%</td></tr>
            <tr><td>ğŸ‡§ğŸ‡¬ BuÅ‚garia</td><td class="r">2</td><td class="r">4</td><td class="r">4</td><td class="r">1</td><td class="r">0</td><td class="r"><strong>11</strong></td><td class="r">1.6%</td></tr>
            <tr><td>ğŸ‡³ğŸ‡´ Norwegia</td><td class="r">6</td><td class="r">2</td><td class="r">3</td><td class="r">0</td><td class="r">0</td><td class="r"><strong>11</strong></td><td class="r">1.6%</td></tr>
            <tr><td>ğŸŒ Inne (18 krajÃ³w)</td><td class="r">42</td><td class="r">4</td><td class="r">5</td><td class="r">5</td><td class="r">1</td><td class="r"><strong>57</strong></td><td class="r">8.4%</td></tr>
          </tbody>
          <tfoot>
            <tr style="background:var(--bg-soft);font-weight:700">
              <td>RAZEM</td><td class="r">~240</td><td class="r">~131</td><td class="r">~184</td><td class="r">~52</td><td class="r">~20</td><td class="r"><strong>~680</strong></td><td class="r">100%</td>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
  </section>

  <!-- PYRAMID COMPARISON -->
  <section class="bg-soft" id="pyramid">
    <div class="w">
      <div class="section-head section-head--center anim">
        <div class="section-label">PorÃ³wnanie rynkÃ³w</div>
        <h2>KsztaÅ‚t piramidy rang</h2>
        <p>Polska roÅ›nie "od doÅ‚u" (44% Gold). Rumunia ma super-silny top. Niemcy sÄ… rÃ³wnomiernie dojrzaÅ‚e.</p>
      </div>

      <div class="pyramids anim">
        <div class="pyramid-card">
          <h3>ğŸ‡µğŸ‡± Polska</h3>
          <p class="sub">41 liderÃ³w Gold+ â€” rynek rosnÄ…cy</p>
          <div class="pyr-row">
            <span class="pyr-label">Gold</span>
            <div class="pyr-bar-wrap"><div class="pyr-bar gold" data-w="88" style="width:0">44%</div></div>
          </div>
          <div class="pyr-row">
            <span class="pyr-label">Platinum</span>
            <div class="pyr-bar-wrap"><div class="pyr-bar plat" data-w="49" style="width:0">24%</div></div>
          </div>
          <div class="pyr-row">
            <span class="pyr-label">Diamond</span>
            <div class="pyr-bar-wrap"><div class="pyr-bar dia" data-w="44" style="width:0">22%</div></div>
          </div>
          <div class="pyr-row">
            <span class="pyr-label">Blue Dia.+</span>
            <div class="pyr-bar-wrap"><div class="pyr-bar bdia" data-w="20" style="width:0">10%</div></div>
          </div>
        </div>

        <div class="pyramid-card">
          <h3>ğŸ‡©ğŸ‡ª Niemcy</h3>
          <p class="sub">167 liderÃ³w Gold+ â€” rynek dojrzaÅ‚y</p>
          <div class="pyr-row">
            <span class="pyr-label">Gold</span>
            <div class="pyr-bar-wrap"><div class="pyr-bar gold" data-w="56" style="width:0">28%</div></div>
          </div>
          <div class="pyr-row">
            <span class="pyr-label">Platinum</span>
            <div class="pyr-bar-wrap"><div class="pyr-bar plat" data-w="50" style="width:0">25%</div></div>
          </div>
          <div class="pyr-row">
            <span class="pyr-label">Diamond</span>
            <div class="pyr-bar-wrap"><div class="pyr-bar dia" data-w="73" style="width:0">37%</div></div>
          </div>
          <div class="pyr-row">
            <span class="pyr-label">Blue Dia.+</span>
            <div class="pyr-bar-wrap"><div class="pyr-bar bdia" data-w="20" style="width:0">10%</div></div>
          </div>
        </div>

        <div class="pyramid-card">
          <h3>ğŸ‡·ğŸ‡´ Rumunia</h3>
          <p class="sub">101 liderÃ³w Gold+ â€” silny top</p>
          <div class="pyr-row">
            <span class="pyr-label">Gold</span>
            <div class="pyr-bar-wrap"><div class="pyr-bar gold" data-w="55" style="width:0">28%</div></div>
          </div>
          <div class="pyr-row">
            <span class="pyr-label">Platinum</span>
            <div class="pyr-bar-wrap"><div class="pyr-bar plat" data-w="45" style="width:0">23%</div></div>
          </div>
          <div class="pyr-row">
            <span class="pyr-label">Diamond</span>
            <div class="pyr-bar-wrap"><div class="pyr-bar dia" data-w="63" style="width:0">32%</div></div>
          </div>
          <div class="pyr-row">
            <span class="pyr-label">Blue Dia.+</span>
            <div class="pyr-bar-wrap"><div class="pyr-bar bdia" data-w="36" style="width:0">18%</div></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- KEY INSIGHT -->
  <section>
    <div class="w">
      <div class="insight anim">
        <h3>Kluczowy wniosek</h3>
        <p>ObsÅ‚ugujÄ…c 3 jÄ™zyki (PL + DE + EN) Aromagic pokrywa:</p>
        <div class="big">43% rynku</div>
        <p>~295 liderÃ³w Gold+ w Europie â€” Polska, Niemcy, Austria, Szwajcaria i UK â€” bez dodatkowych tÅ‚umaczeÅ„.</p>
      </div>
    </div>
  </section>

  <!-- STRATEGY -->
  <section class="bg-soft" id="strategy">
    <div class="w">
      <div class="section-head section-head--center anim">
        <div class="section-label">Strategia ekspansji</div>
        <h2>PL &rarr; DACH &rarr; reszta Europy</h2>
      </div>

      <div class="segments anim">
        <div class="segment">
          <div class="segment-phase now">Teraz</div>
          <h3>ğŸ‡µğŸ‡± Polska</h3>
          <div class="pct green">6%</div>
          <p>41 liderÃ³w Gold+. Rynek startowy i walidacyjny.</p>
          <ul>
            <li>Znani liderzy â€” demo na Å¼ywo</li>
            <li>Konwencja doTERRA 2026 w Katowicach</li>
            <li>Rynek "roÅ›nie od doÅ‚u" â€” 44% Gold</li>
            <li>JÄ™zyk: gotowy (PL)</li>
          </ul>
        </div>
        <div class="segment">
          <div class="segment-phase next">NastÄ™pny</div>
          <h3>ğŸ‡©ğŸ‡ªğŸ‡¦ğŸ‡¹ğŸ‡¨ğŸ‡­ DACH</h3>
          <div class="pct purple">35%</div>
          <p>240 liderÃ³w Gold+. NajwiÄ™kszy potencjaÅ‚ w Europie.</p>
          <ul>
            <li>Niemcy = 24.6% caÅ‚ego rynku</li>
            <li>Biuro doTERRA w Monachium</li>
            <li>DojrzaÅ‚y, zamoÅ¼ny rynek</li>
            <li>JÄ™zyk: gotowy (DE)</li>
          </ul>
        </div>
        <div class="segment">
          <div class="segment-phase later">PÃ³Åºniej</div>
          <h3>ğŸ‡ªğŸ‡º Reszta</h3>
          <div class="pct muted">59%</div>
          <p>~400 liderÃ³w Gold+. Fragmentaryczny rynek, wiele jÄ™zykÃ³w.</p>
          <ul>
            <li>Rumunia #2 (101) â€” wymaga RO</li>
            <li>WÅ‚ochy (27), Francja (22) â€” rosnÄ…ce</li>
            <li>EN jako lingua franca dla mniejszych rynkÃ³w</li>
            <li>KaÅ¼dy nowy jÄ™zyk = nowy segment</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- SILVER+ TABLE -->
  <section>
    <div class="w">
      <div class="section-head anim">
        <div class="section-label">Silver+ (estymacja)</div>
        <h2>PeÅ‚en obraz z danymi Silver</h2>
        <p>Silver (~1920 osÃ³b) nie majÄ… krajÃ³w na stronie doTERRA. Estymacja na podstawie analizy wzorcÃ³w nazwisk. Margines bÅ‚Ä™du: Â±15-20%.</p>
      </div>

      <div class="table-wrap anim">
        <table>
          <thead>
            <tr>
              <th>Kraj</th>
              <th class="r">Silver (est.)</th>
              <th class="r">Gold+ (pewne)</th>
              <th class="r">Razem</th>
              <th class="r">%</th>
            </tr>
          </thead>
          <tbody>
            <tr><td><strong>ğŸ‡©ğŸ‡ª Niemcy</strong></td><td class="r">~340</td><td class="r">167</td><td class="r"><strong>~507</strong></td><td class="r"><strong>19.5%</strong></td></tr>
            <tr><td><strong>ğŸ‡·ğŸ‡´ Rumunia</strong></td><td class="r">~340</td><td class="r">101</td><td class="r"><strong>~441</strong></td><td class="r"><strong>17.0%</strong></td></tr>
            <tr class="row-highlight"><td><strong>ğŸ‡µğŸ‡± Polska</strong></td><td class="r">~125</td><td class="r">41</td><td class="r"><strong>~166</strong></td><td class="r"><strong>6.4%</strong></td></tr>
            <tr><td>ğŸ‡­ğŸ‡º WÄ™gry</td><td class="r">~95</td><td class="r">35</td><td class="r"><strong>~130</strong></td><td class="r">5.0%</td></tr>
            <tr><td>ğŸ‡®ğŸ‡¹ WÅ‚ochy</td><td class="r">~95</td><td class="r">27</td><td class="r"><strong>~122</strong></td><td class="r">4.7%</td></tr>
            <tr><td>ğŸ‡«ğŸ‡· Francja</td><td class="r">~75</td><td class="r">22</td><td class="r"><strong>~97</strong></td><td class="r">3.7%</td></tr>
            <tr><td>ğŸ‡¨ğŸ‡­ Szwajcaria</td><td class="r">~50</td><td class="r">42</td><td class="r"><strong>~92</strong></td><td class="r">3.5%</td></tr>
            <tr><td>ğŸ‡¦ğŸ‡¹ Austria</td><td class="r">~60</td><td class="r">31</td><td class="r"><strong>~91</strong></td><td class="r">3.5%</td></tr>
            <tr><td>ğŸ‡ªğŸ‡¸ Hiszpania</td><td class="r">~55</td><td class="r">16</td><td class="r"><strong>~71</strong></td><td class="r">2.7%</td></tr>
            <tr><td>ğŸ‡§ğŸ‡¬ BuÅ‚garia</td><td class="r">~50</td><td class="r">11</td><td class="r"><strong>~61</strong></td><td class="r">2.3%</td></tr>
            <tr><td>ğŸŒ Inne</td><td class="r">~635</td><td class="r">187</td><td class="r"><strong>~822</strong></td><td class="r">31.6%</td></tr>
          </tbody>
          <tfoot>
            <tr style="background:var(--bg-soft);font-weight:700">
              <td>RAZEM</td><td class="r">~1 920</td><td class="r">~680</td><td class="r"><strong>~2 600</strong></td><td class="r">100%</td>
            </tr>
          </tfoot>
        </table>
      </div>
      <p class="note">Silver: estymacja na podstawie wzorcÃ³w nazwisk (~37% sklasyfikowanych z wysokÄ… pewnoÅ›ciÄ…). Gold+: dane pewne z oficjalnych stron doTERRA.</p>
    </div>
  </section>

  <!-- TIMELINE -->
  <section class="bg-soft">
    <div class="w">
      <div class="section-head anim">
        <div class="section-label">Historia</div>
        <h2>doTERRA w Europie â€” timeline</h2>
      </div>
      <div class="timeline anim">
        <div class="tl-item"><div class="tl-dot"></div><div class="tl-year">2008</div><div class="tl-text"><strong>ZaÅ‚oÅ¼enie doTERRA</strong> w Pleasant Grove, Utah. 25 olejkÃ³w na start.</div></div>
        <div class="tl-item"><div class="tl-dot"></div><div class="tl-year">2009</div><div class="tl-text">Rejestracja <strong>DOTERRA (EUROPE) LTD</strong> w Wielkiej Brytanii.</div></div>
        <div class="tl-item"><div class="tl-dot"></div><div class="tl-year">2016</div><div class="tl-text">Otwarcie <strong>Esseterre Bulgaria</strong> â€” zakÅ‚ad destylacji surowcÃ³w.</div></div>
        <div class="tl-item"><div class="tl-dot"></div><div class="tl-year">2018</div><div class="tl-text">Biuro w Milton Keynes (UK).</div></div>
        <div class="tl-item"><div class="tl-dot active"></div><div class="tl-year">2019</div><div class="tl-text"><strong>Grand opening biura w Monachium</strong> â€” kluczowy moment dla rynku DACH.</div></div>
        <div class="tl-item"><div class="tl-dot"></div><div class="tl-year">2020</div><div class="tl-text"><strong>Fabryka w Cork</strong> (Irlandia) + <strong>call center w Budapeszcie</strong> (WÄ™gry).</div></div>
        <div class="tl-item"><div class="tl-dot active"></div><div class="tl-year">2025</div><div class="tl-text"><strong>Elevated Compensation Plan</strong> â€” Rank Compression, PO3 Boost, Team Growth Volume.</div></div>
        <div class="tl-item"><div class="tl-dot active"></div><div class="tl-year">2026</div><div class="tl-text"><strong>Konwencja Europe w Katowicach</strong> â€” Arena Spodek, maj 2026.</div></div>
      </div>
    </div>
  </section>

  <!-- COMP PLAN -->
  <section>
    <div class="w">
      <div class="section-head section-head--center anim">
        <div class="section-label">Elevated Compensation Plan 2025</div>
        <h2>Nowy plan kompensacyjny</h2>
        <p>WdroÅ¼ony 1 czerwca 2025. Istotne zmiany dla kalkulacji w Aromagic.</p>
      </div>
      <div class="stats-row anim">
        <div class="stat-card">
          <div class="stat-value" style="font-size:1.4rem;color:var(--purple)">Rank Compression</div>
          <div class="stat-label">Elastyczniejsza kwalifikacja na wyÅ¼szÄ… rangÄ™</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" style="font-size:1.4rem;color:var(--green)">PO3 Boost</div>
          <div class="stat-label">ZwiÄ™kszone bonusy Power of 3</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" style="font-size:1.4rem;color:var(--blue)">TGV</div>
          <div class="stat-label">Nowa metryka aktywnoÅ›ci zespoÅ‚u</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" style="font-size:1.4rem;color:var(--amber)">Performance Pool</div>
          <div class="stat-label">Platinum dodany do puli</div>
        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="w">
      <div class="footer-inner">
        <span>Aromagic â€” Analiza rynku doTERRA Europa, luty 2026</span>
        <span>Dokument wewnÄ™trzny</span>
      </div>
    </div>
  </footer>

  <script>
    // Scroll animations
    const obs = new IntersectionObserver(entries => {
      entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('in'); });
    }, { threshold: 0.1 });
    document.querySelectorAll('.anim').forEach(el => obs.observe(el));

    // Animate bars on scroll
    const barObs = new IntersectionObserver(entries => {
      entries.forEach(e => {
        if (e.isIntersecting) {
          e.target.querySelectorAll('[data-w]').forEach(bar => {
            setTimeout(() => { bar.style.width = bar.dataset.w + '%'; }, 100);
          });
        }
      });
    }, { threshold: 0.2 });
    document.querySelectorAll('.pyramids').forEach(el => barObs.observe(el));

    // --- Rank chart ---
    const colors = {
      Niemcy:'var(--purple)', Rumunia:'#5C6BC0', Szwajcaria:'#26A69A',
      Polska:'var(--green)', 'WÄ™gry':'var(--amber)', Austria:'#EF5350',
      'WÅ‚ochy':'#42A5F5', Francja:'#AB47BC', Hiszpania:'#FF7043',
      Belgia:'#8D6E63', UK:'#EC407A', Izrael:'#66BB6A',
      'SÅ‚owacja':'#29B6F6', Holandia:'#26C6DA', 'BuÅ‚garia':'#78909C',
      Norwegia:'#1E88E5', Portugalia:'#FFA726', Cypr:'#7E57C2',
      Ukraina:'#FFCA28'
    };
    const OTHER = '#BDBDBD';

    const datasets = {
      gold: {
        label: 'RozkÅ‚ad Gold+',
        desc: '~1237 liderÃ³w Gold+. Dane z oficjalnych stron doTERRA + weryfikacja nazwisk.',
        note: 'Å¹rÃ³dÅ‚o: doterra.com/ME/en_ME â€” strony Recognition. Gold: weryfikacja 701 nazwisk. Platinum: weryfikacja 252 nazwisk. Dane pobrane luty 2026.',
        data: [
          ['Niemcy',415],['Rumunia',240],['WÄ™gry',91],['Polska',77],
          ['WÅ‚ochy',59],['Szwajcaria',58],['Francja',46],['BuÅ‚garia',33],
          ['SÅ‚owacja',33],['Austria',29],['UK',29],['Izrael',19],
          ['Hiszpania',16],['Holandia',15],['Portugalia',12],['Norwegia',10],
          ['Inne (17)',55]
        ]
      },
      platinum: {
        label: 'RozkÅ‚ad Platinum+',
        desc: '~536 liderÃ³w Platinum+. Pewne dane z oficjalnych stron doTERRA.',
        note: 'Å¹rÃ³dÅ‚o: doterra.com/ME/en_ME â€” strony Recognition (Platinum, Diamond, Blue Diamond, Presidential Diamond, Double Presidential/Diamond). Platinum: weryfikacja 252 nazwisk. Dane pobrane luty 2026.',
        data: [
          ['Niemcy',164],['Rumunia',112],['Szwajcaria',42],['Polska',31],
          ['WÄ™gry',29],['WÅ‚ochy',18],['Austria',16],['BuÅ‚garia',15],
          ['UK',14],['Hiszpania',13],['Francja',12],['Izrael',12],
          ['SÅ‚owacja',12],['Belgia',9],['Holandia',8],['Ukraina',6],
          ['Inne (11)',23]
        ]
      },
      diamond: {
        label: 'RozkÅ‚ad Diamond+',
        desc: '284 liderÃ³w Diamond+. Pewne dane z oficjalnych stron doTERRA.',
        note: 'Å¹rÃ³dÅ‚o: doterra.com/ME/en_ME â€” strony Recognition (Diamond, Blue Diamond, Presidential Diamond, Double Presidential Diamond, Double Diamond). Dane pobrane luty 2026.',
        data: [
          ['Niemcy',85],['Rumunia',56],['Szwajcaria',31],['WÄ™gry',17],
          ['Polska',14],['Austria',9],['WÅ‚ochy',8],['UK',7],
          ['Hiszpania',7],['SÅ‚owacja',7],['Francja',6],['Belgia',5],
          ['Izrael',5],['BuÅ‚garia',5],['Cypr',5],['Holandia',4],
          ['Inne (11)',13]
        ]
      },
      silver: {
        label: 'RozkÅ‚ad Silver+',
        desc: '~3157 liderÃ³w Silver+.',
        note: 'Silver: analiza 1920 nazwisk (Â±10-15%). Gold+: dane pewne. Å¹rÃ³dÅ‚o: doterra.com/ME/en_ME. Luty 2026.',
        data: [
          ['Niemcy',1062],['Rumunia',649],['WÄ™gry',256],['Polska',175],
          ['WÅ‚ochy',150],['Szwajcaria',132],['Francja',115],['Austria',90],
          ['UK',85],['BuÅ‚garia',71],['SÅ‚owacja',66],['Holandia',38],
          ['Izrael',36],['Portugalia',35],['Norwegia',34],['Ukraina',33],
          ['Inne (17)',130]
        ]
      }
    };

    const chartEl = document.getElementById('rankChart');
    const labelEl = document.getElementById('chartLabel');
    const descEl = document.getElementById('chartDesc');
    const noteEl = document.getElementById('chartNote');

    function renderChart(rank) {
      const ds = datasets[rank];
      const max = Math.max(...ds.data.map(d => d[1]));
      labelEl.textContent = ds.label;
      descEl.textContent = ds.desc;
      noteEl.textContent = ds.note;

      const inneTooltips = {
        silver: '<span class="tooltip-box">' +
          'Hiszpania (~31), Belgia (~19), Dania (~13),<br>' +
          'MoÅ‚dawia (~12), SÅ‚owenia (~11), Cypr (~7),<br>' +
          '~11 inn. (~37)' +
          '</span>',
        gold: '<span class="tooltip-box">' +
          'Belgia (~9), Ukraina (~9), Dania (~7),<br>' +
          'Cypr (~7), MoÅ‚dawia (~6), SÅ‚owenia (~5),<br>' +
          '11 inn. (~12)' +
          '</span>',
        platinum: '<span class="tooltip-box">' +
          'Cypr (~6), Norwegia (~5), Portugalia (~4),<br>' +
          'Dania (~3), SÅ‚owenia (~3), 6 inn. (~2)' +
          '</span>',
        diamond: '<span class="tooltip-box">' +
          'Portugalia (~4), Norwegia (~3), Dania (~2),<br>' +
          'Chorwacja, SÅ‚owenia, Serbia, Irlandia,<br>' +
          'Malta, Estonia, Ukraina, MoÅ‚dawia (zb. ~4)' +
          '</span>'
      };
      const inneTooltip = inneTooltips[rank];
      const total = ds.data.reduce((s, d) => s + d[1], 0);
      chartEl.innerHTML = ds.data.map(([name, val]) => {
        const w = (val / max * 100).toFixed(1);
        const bg = colors[name] || OTHER;
        const isInne = name.startsWith('Inne');
        return '<div class="chart-row' + (isInne ? ' row-tooltip' : '') + '">' +
          (isInne ? inneTooltip : '') +
          '<span class="chart-country">' + name + '</span>' +
          '<div class="chart-bar-wrap"><div class="chart-bar" style="width:0;background:' + bg + '" data-w="' + w + '"></div></div>' +
          '<span class="chart-val">' + val + '</span>' +
          '</div>';
      }).join('') +
      '<div class="chart-row chart-total">' +
        '<span class="chart-country">RAZEM</span>' +
        '<div></div>' +
        '<span class="chart-val">' + (rank === 'silver' ? '~' : '') + total + '</span>' +
      '</div>';

      // Animate after DOM update
      requestAnimationFrame(() => {
        chartEl.querySelectorAll('[data-w]').forEach(bar => {
          setTimeout(() => { bar.style.width = bar.dataset.w + '%'; }, 50);
        });
      });
    }

    // Tab clicks
    document.querySelectorAll('.chart-tab').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.chart-tab').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        renderChart(btn.dataset.rank);
      });
    });

    // Initial render
    renderChart('silver');

    // --- Stacked chart ---
    const stackedData = [
      { name:'Niemcy', silver:647, gold:251, platinum:79, diamond:85 },
      { name:'Rumunia', silver:409, gold:128, platinum:56, diamond:56 },
      { name:'WÄ™gry', silver:165, gold:62, platinum:12, diamond:17 },
      { name:'Polska', silver:98, gold:46, platinum:17, diamond:14 },
      { name:'WÅ‚ochy', silver:91, gold:41, platinum:10, diamond:8 },
      { name:'Szwajcaria', silver:74, gold:16, platinum:11, diamond:31 },
      { name:'Francja', silver:69, gold:34, platinum:6, diamond:6 },
      { name:'Austria', silver:61, gold:13, platinum:7, diamond:9 },
      { name:'UK', silver:56, gold:15, platinum:7, diamond:7 },
      { name:'BuÅ‚garia', silver:38, gold:18, platinum:10, diamond:5 },
      { name:'SÅ‚owacja', silver:33, gold:21, platinum:5, diamond:7 },
      { name:'Holandia', silver:23, gold:7, platinum:4, diamond:4 },
      { name:'Izrael', silver:17, gold:7, platinum:7, diamond:5 },
      { name:'Portugalia', silver:23, gold:8, platinum:0, diamond:4 },
      { name:'Norwegia', silver:24, gold:5, platinum:2, diamond:3 },
      { name:'Ukraina', silver:24, gold:3, platinum:5, diamond:1 },
      { name:'Inne', silver:68, gold:26, platinum:14, diamond:22 }
    ];

    const stackedEl = document.getElementById('stackedChart');
    const maxTotal = Math.max(...stackedData.map(d => d.silver + d.gold + d.platinum + d.diamond));
    const grandTotal = stackedData.reduce((s, d) => s + d.silver + d.gold + d.platinum + d.diamond, 0);

    stackedEl.innerHTML = stackedData.map(d => {
      const total = d.silver + d.gold + d.platinum + d.diamond;
      const barW = (total / maxTotal * 100).toFixed(1);
      let segs;
      if (d.inne) {
        segs = '<div class="stacked-seg inne" data-sw="100"></div>';
      } else {
        segs = ['silver','gold','platinum','diamond'].map(r => {
          const pct = (d[r] / total * 100).toFixed(1);
          return '<div class="stacked-seg ' + r + '" data-sw="' + pct + '" title="' + r.charAt(0).toUpperCase() + r.slice(1) + ': ' + d[r] + '"></div>';
        }).join('');
      }
      const tooltip = d.name === 'Inne'
        ? '<span class="tooltip-box">' +
          'Hiszpania (~31), Belgia (~19), Dania (~13),<br>' +
          'MoÅ‚dawia (~12), SÅ‚owenia (~11), Cypr (~7),<br>' +
          '~11 inn. (~37)' +
          '</span>'
        : '';
      const rowClass = tooltip ? ' row-tooltip' : '';
      return '<div class="stacked-row' + rowClass + '">' +
        tooltip +
        '<span class="stacked-country">' + d.name + '</span>' +
        '<div style="width:' + barW + '%"><div class="stacked-bar">' + segs + '</div></div>' +
        '<span class="stacked-val">~' + total + '</span>' +
        '</div>';
    }).join('') +
    '<div class="stacked-row stacked-total">' +
      '<span class="stacked-country">RAZEM</span><div></div>' +
      '<span class="stacked-val">~' + grandTotal + '</span>' +
    '</div>';

    // Animate stacked segments on scroll
    const stackedObs = new IntersectionObserver(entries => {
      entries.forEach(e => {
        if (e.isIntersecting) {
          e.target.querySelectorAll('[data-sw]').forEach(seg => {
            setTimeout(() => { seg.style.width = seg.dataset.sw + '%'; }, 100);
          });
        }
      });
    }, { threshold: 0.2 });
    stackedObs.observe(stackedEl);
  </script>

</body>
</html>
